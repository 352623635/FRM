import{f as p,k as E,o as w,c as b,h as t,A as h,B as y,u as r,C as f,q as x,p as N,m as V,s as d,e as $,a as v,x as A}from"./index.6ffd9326.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as F,F as U}from"./Footer.07a683df.js";const W=c=>(N("data-v-4a3dacee"),c=c(),V(),c),j={class:"login"},q={class:"login-box"},z=W(()=>t("div",{class:"login-img"},[t("img",{alt:"\u6682\u65E0\u56FE\u7247",src:""})],-1)),P={class:"name_pwd"},R=["onKeyup"],G={class:"cap none"},H=["onKeyup"],J={class:"cap-draw"},X={class:"login-button"},Y={setup(c){let n=p(3);E(()=>{u()});let l=p(),s=p(),a=p();const m=()=>{window.location.href="/#/register"},u=()=>{const i=["1","2","3","4","5","6","7","8","a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];l.value="";for(let g=0;g<4;g++){let K=parseInt(Math.random()*i.length);l.value+=i[K]}const o=document.getElementById("draw"),e=o.getContext("2d");o.width=50,e.font="italic 18px Arial",e.textAlign="center",e.textBaseline="middle",e.beginPath(),e.fillText(l.value,25,25);const k=parseInt(Math.random()*50),I=parseInt(Math.random()*50),M=parseInt(Math.random()*50),C=parseInt(Math.random()*50),B=parseInt(Math.random()*50),L=parseInt(Math.random()*50),S=parseInt(Math.random()*50),T=parseInt(Math.random()*50);e.lineWidth=2,e.strokeStyle="green",e.moveTo(k,I),e.lineTo(M,C),e.stroke(),e.lineWidth=4,e.strokeStyle="green",e.moveTo(B,L),e.lineTo(S,T),e.stroke()},_=()=>{let i=document.getElementsByClassName("code"),o=document.getElementsByClassName("none");(n.value===0||n.value===-1)&&(o[0].style.display="block"),n.value>-1?(n.value--,console.log(n.value),d.dispatch("postLogin",{user:s.value,pwd:a.value}),console.log(s.value,a.value)):i[0].value!==void 0&&(i[0].value.toLowerCase()===l.value.toLowerCase()?(d.dispatch("postLogin",{user:s.value,pwd:a.value}),u()):(u(),alert("\u9A8C\u8BC1\u7801\u9519\u8BEF")))};return(i,o)=>(w(),b("div",j,[t("div",q,[z,t("div",P,[t("label",null,[h(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>f(s)?s.value=e:s=e),class:"l-txt",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,512),[[y,r(s)]])]),t("label",null,[h(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>f(a)?a.value=e:a=e),class:"l-txt",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",onKeyup:x(_,["enter","native"]),type:"password"},null,40,R),[[y,r(a)]])])]),t("div",G,[t("label",null,[t("input",{class:"code",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",onKeyup:x(_,["enter","native"]),type:"text"},null,40,H)]),t("div",J,[t("canvas",{id:"draw",height:"50",width:"50",onClick:o[2]||(o[2]=e=>u())})])]),t("div",X,[t("button",{type:"button",onClick:o[3]||(o[3]=e=>_())}," \u767B\u5F55 "),t("button",{type:"button",onClick:o[4]||(o[4]=e=>m())}," \u5207\u6362\u4E3A\u6CE8\u518C ")])])]))}};var Z=D(Y,[["__scopeId","data-v-4a3dacee"]]);const O={style:{"max-width":"1100px","background-color":"#97d5d9b5","min-width":"825px",margin:"auto"}},Q={class:"Login"},se=$({setup(c){const n=d.state.host,l=d.state.tabbar,s=d.state.footer,a=d.state.logo;return(m,u)=>(w(),b("div",{style:A("background-image: url("+r(n)+":3001/background_login.jpg)")},[t("div",O,[t("div",Q,[v(F,{logo:r(a),path:r(l)},null,8,["logo","path"]),v(Z)]),v(U,{footer:r(s)},null,8,["footer"])])],4))}});export{se as default};
